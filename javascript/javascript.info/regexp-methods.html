<!DOCTYPE html><html lang="en">
<!-- Mirrored from javascript.info/regexp-methods by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Sep 2018 10:51:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><script>window.currentUser = null;</script><title itemprop="name">Methods of RegExp and String</title><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><script>if (window.devicePixelRatio > 1) document.cookie = 'pixelRatio=' + window.devicePixelRatio + ';path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT';</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700%7COpen+Sans+Condensed:700&amp;subset=latin,latin-ext,cyrillic,cyrillic-ext" rel="stylesheet"><link rel="apple-touch-icon-precomposed" href="img/favicon/apple-touch-icon-precomposed.png"><link rel="canonical" href="regexp-methods.html"><meta name="msapplication-TileColor" content="#222A2C"><meta name="msapplication-TileImage" content="/img/favicon/tileicon.png"><!-- favicon the rest--><link rel="icon" href="img/favicon/favicon.png"><meta itemprop="image" content="https://javascript.info/img/site_preview_en_512x512.png"><meta property="og:title" content="Methods of RegExp and String"><meta property="og:image" content="https://javascript.info/img/site_preview_en_1200x630.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="fb:admins" content="100001562528165"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Methods of RegExp and String"><meta name="twitter:site" content="@iliakan"><meta name="twitter:creator" content="@iliakan"><meta name="twitter:image" content="https://javascript.info/img/site_preview_en_512x512.png"><link href="pack/styles.b363cbd7204b6ec74a4cbeca7061b31d.css" rel="stylesheet"><link rel="prev" href="regexp-introduction.html"><link rel="next" href="regexp-character-classes.html"><script>window.GA_ID = "UA-2056213-15";</script><script>window.YANDEX_METRIKA_ID = 32184394;</script><script>window.GoogleAnalyticsObject="ga",window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[],window.ga.l=Date.now(),ga("create",GA_ID,"auto"),window.currentUser?ga("set","&uid",currentUser.id):ga("set","anonymizeIp",!0),window.addEventListener("error",function(e){var n=(e.filename||e.errorUrl)+": "+(e.lineno||e.errorLine),r=e.stack||e.error&&e.error.stack;ga("send","exception",{exDescription:e.message+" "+n+" "+r,exFatal:!0})});</script><script src="../www.google-analytics.com/analytics.js" async></script><script>ga('send', 'pageview');</script><script>window.metrika={reachGoal:function(){}},window.yandex_metrika_callbacks=[function(){try{window.metrika=new Ya.Metrika({id:YANDEX_METRIKA_ID,webvisor:!0,clickmap:!0,params:{user:window.currentUser&&window.currentUser.id}}),metrika.trackLinks({delay:150}),window.addEventListener("error",function(r){window.metrika.reachGoal("JSERROR",{src:(r.filename||r.errorUrl)+": "+(r.lineno||r.errorLine),stack:r.stack||r.error&&r.error.stack,message:r.message})})}catch(r){}}];</script><script src="../mc.yandex.ru/metrika/watch.js" async></script><script>window.RECAPTCHA_ID = "6Lf9NyETAAAAACZlg-a9Us2SxvYbeVC1ROWaWv4O";</script><script src="inite4da.js?5"></script><script src="pack/head.5ac6aee21473ea597203.js" defer></script><meta property="og:title" content="Methods of RegExp and String"><meta property="og:type" content="article"><script src="pack/tutorial.5ac6aee21473ea597203.js" defer></script><script src="pack/footer.5ac6aee21473ea597203.js" defer></script></head><body class="no-icons"><script>window.fontTest();</script><div class="page-wrapper page-wrapper_sidebar_on"><!--[if lt IE 10]><div style="color:red;text-align:center">Sorry, IE&lt;10 is not supported, please use a newer browser.</div><![endif]--><div class="sitetoolbar sitetoolbar_tutorial"><div style="display:none" id="notify-en-tutorial" class="notification notification_info notification_top sitetoolbar__notification"><div class="notification__content">The tutorial was recently rewritten from scratch. There may be typos, please use the "Edit on Github" link (in left sidebar in an article, at the bottom) to propose fixes.
Thank you!</div><button title="Close" class="notification__close"></button></div><script>showTopNotification();</script><div class="sitetoolbar__content"><div class="sitetoolbar__logo-wrap"><a href="index.html" class="sitetoolbar__link sitetoolbar__link_logo"><img src="img/sitetoolbar__logo_en.svg" width="200" class="sitetoolbar__logo sitetoolbar__logo_normal" alt=""><img src="img/sitetoolbar__logo_small_en.svg" width="70" class="sitetoolbar__logo sitetoolbar__logo_small" alt=""><script>Array.prototype.forEach.call(document.querySelectorAll("img.sitetoolbar__logo"),function(e){var t=document.createElement("object");t.type="image/svg+xml",t.className=e.className,t.style.cssText="left:0;top:0;position:absolute",t.onload=function(){t.onload=null,e.style.visibility="hidden"},t.data=e.src,e.parentNode.insertBefore(t,e)});</script></a></div><div class="sitetoolbar__nav-toggle-wrap"><button type="button" class="sitetoolbar__nav-toggle"></button></div><nav class="sitetoolbar__sections"><ul class="sitetoolbar__sections-list"><li class="sitetoolbar__section sitetoolbar__section_current"><a href="index.html" class="sitetoolbar__link">Tutorial</a></li><li class="sitetoolbar__section"><a href="courses.html" class="sitetoolbar__link">Courses</a></li></ul></nav><div class="sitetoolbar__book-wrap"><a href="ebook.html" class="buy-book-button"><span class="buy-book-button__extra-text">Buy</span>EPUB/PDF</a></div><div class="sitetoolbar__login-wrap"><button data-action-login class="sitetoolbar__login sitetoolbar__login_unready"></button></div><div class="sitetoolbar__search-wrap"><div class="sitetoolbar__search-content"><form method="GET" action="http://javascript.info/search" class="sitetoolbar__search"><button type="button" class="sitetoolbar__search-toggle"></button><div class="sitetoolbar__search-input"><div class="text-input"><input autofocus name="query" placeholder="Search on Javascript.info" class="text-input__control" type="text"></div><button type="submit" class="sitetoolbar__find">Search</button></div></form></div></div></div><!-- todo: en variant--><div class="tablet-menu"><div class="tablet-menu__line"><div class="tablet-menu__content"><select onchange="if(this.value) window.location.href=this.value" class="input-select input-select_small tablet-menu__nav"><option value="/tutorial" selected>Tutorial</option><option value="/courses">Courses</option></select></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><form action="http://javascript.info/search/" class="tablet-menu-search"><input type="search" name="query" placeholder="Search in the tutorial" required class="tablet-menu-search__input"><button type="submit" name="type" value="articles" class="tablet-menu-search__button">Search</button></form></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><a href="tutorial/map.html" data-action="tutorial-map" class="map"><span class="map__text">Tutorial map</span></a></div></div><!--+e.line--><!--  +e.content--><!--    +b("a").tablet-ebook(href="/ebook")--><!--      +e("span").text Купить учебник--><!--      +e("span").note (EPUB + PDF)--><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="share-icons"><span class="share-icons__title">Share</span><a href="https://twitter.com/share?url=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_tw"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_fb"></a><a href="https://plus.google.com/share?url=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_gp"></a><a href="https://vkontakte.ru/share.php?url=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_vk"></a></div></div></div></div><progress data-sticky value="2" max="15" data-tooltip="Lesson 2 of 15" class="tutorial-progress"></progress></div><div class="page page_sidebar_on"><script>if(localStorage.noSidebar){document.querySelector(".page").classList.remove("page_sidebar_on");var pageWrapper=document.querySelector(".page-wrapper");pageWrapper&&pageWrapper.classList.remove("page-wrapper_sidebar_on")}setTimeout(function(){document.querySelector(".page").classList.add("page_sidebar-animation-on")},0);</script><div class="page__inner"><main class="main main_width-limit"><header class="main__header"><div class="main__header-inner"><ol class="breadcrumbs"><li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb-1" class="breadcrumbs__item breadcrumbs__item_home"><a href="index.html" itemprop="url" class="breadcrumbs__link"><span itemprop="title" class="breadcrumbs__hidden-text">Tutorial</span></a></li><li id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="breadcrumbs__item"><a href="regular-expressions.html" itemprop="url" class="breadcrumbs__link"><span itemprop="title">Regular expressions</span></a></li></ol><h1 class="main__header-title">Methods of RegExp and String</h1></div></header><div class="content"><article itemscope itemtype="http://schema.org/TechArticle"><meta itemprop="name" content="Methods of RegExp and String"><div itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="email" content="iliakan@gmail.com"><meta itemprop="name" content="Ilya Kantor"></div><div itemprop="articleBody"><p>There are two sets of methods to deal with regular expressions.</p>
<ol>
<li>First, regular expressions are objects of the built-in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a> class, it provides many methods.</li>
<li>Besides that, there are methods in regular strings can work with regexps.</li>
</ol>
<p>The structure is a bit messed up, so we’ll first consider methods separately, and then – practical recipes for common tasks.</p>
<h2><a class="main__anchor" name="str-search-reg" href="#str-search-reg">str.search(reg)</a></h2><p>We’ve seen this method already. It returns the position of the first match or <code>-1</code> if none found:</p>
<div data-trusted="1" class="code-example" data-highlight-inline="2:19-23">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;A drop of ink may make a million think&quot;;

alert( str.search( /a/i ) ); // 0 (the first position)</code></pre>
        </div>
      </div>
      
      </div><p><strong>The important limitation: <code>search</code> always looks for the first match.</strong></p>
<p>We can’t find next positions using <code>search</code>, there’s just no syntax for that. But there are other methods that can.</p>
<h2><a class="main__anchor" name="str-match-reg-no-g-flag" href="#str-match-reg-no-g-flag">str.match(reg), no “g” flag</a></h2><p>The method <code>str.match</code> behavior varies depending on the <code>g</code> flag. First let’s see the case without it.</p>
<p>Then <code>str.match(reg)</code> looks for the first match only.</p>
<p>The result is an array with that match and additional properties:</p>
<ul>
<li><code>index</code> – the position of the match inside the string,</li>
<li><code>input</code> – the subject string.</li>
</ul>
<p>For instance:</p>
<div data-trusted="1" class="code-example" data-highlight-inline="2:24-31">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;Fame is the thirst of youth&quot;;

let result = str.match( /fame/i );

alert( result[0] );    // Fame (the match)
alert( result.index ); // 0 (at the zero position)
alert( result.input ); // &quot;Fame is the thirst of youth&quot; (the string)</code></pre>
        </div>
      </div>
      
      </div><p>The array may have more than one element.</p>
<p><strong>If a part of the pattern is delimited by parentheses <code>(...)</code>, then it becomes a separate element of the array.</strong></p>
<p>For instance:</p>
<div data-trusted="1" class="code-example" data-highlight-inline="2:24-39">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;JavaScript is a programming language&quot;;

let result = str.match( /JAVA(SCRIPT)/i );

alert( result[0] ); // JavaScript (the whole match)
alert( result[1] ); // script (the part of the match that corresponds to the parentheses)
alert( result.index ); // 0
alert( result.input ); // JavaScript is a programming language</code></pre>
        </div>
      </div>
      
      </div><p>Due to the <code>i</code> flag the search is case-insensitive, so it finds <code class="match">JavaScript</code>. The part of the match that corresponds to <code class="pattern">SCRIPT</code> becomes a separate array item.</p>
<p>We’ll be back to parentheses later in the chapter <a href="regexp-groups.html">Capturing groups</a>. They are great for search-and-replace.</p>
<h2><a class="main__anchor" name="str-match-reg-with-g-flag" href="#str-match-reg-with-g-flag">str.match(reg) with “g” flag</a></h2><p>When there’s a <code>&quot;g&quot;</code> flag, then <code>str.match</code> returns an array of all matches. There are no additional properties in that array, and parentheses do not create any elements.</p>
<p>For instance:</p>
<div data-trusted="1" class="code-example" data-highlight-inline="2:24-30">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;HO-Ho-ho!&quot;;

let result = str.match( /ho/ig );

alert( result ); // HO, Ho, ho (all matches, case-insensitive)</code></pre>
        </div>
      </div>
      
      </div><p>With parentheses nothing changes, here we go:</p>
<div data-trusted="1" class="code-example" data-highlight-inline="2:24-32">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;HO-Ho-ho!&quot;;

let result = str.match( /h(o)/ig );

alert( result ); // HO, Ho, ho</code></pre>
        </div>
      </div>
      
      </div><p>So, with <code>g</code> flag the <code>result</code> is a simple array of matches. No additional properties.</p>
<p>If we want to get information about match positions and use parentheses then we should use  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec">RegExp#exec</a> method that we’ll cover below.</p>
<div class="important important_warn">
            <div class="important__header"><span class="important__type">If there are no matches, the call to <code>match</code> returns <code>null</code></span></div>
            <div class="important__content"><p>Please note, that’s important. If there were no matches, the result is not an empty array, but <code>null</code>.</p>
<p>Keep that in mind to evade pitfalls like this:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;Hey-hey-hey!&quot;;

alert( str.match(/ho/gi).length ); // error! there's no length of null</code></pre>
        </div>
      </div>
      
      </div></div></div>
<h2><a class="main__anchor" name="str-split-regexp-substr-limit" href="#str-split-regexp-substr-limit">str.split(regexp|substr, limit)</a></h2><p>Splits the string using the regexp (or a substring) as a delimiter.</p>
<p>We already used <code>split</code> with strings, like this:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">alert('12-34-56'.split('-')) // [12, 34, 56]</code></pre>
        </div>
      </div>
      
      </div><p>But we can also pass a regular expression:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">alert('12-34-56'.split(/-/)) // [12, 34, 56]</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="str-replace-str-reg-str-func" href="#str-replace-str-reg-str-func">str.replace(str|reg, str|func)</a></h2><p>The swiss army knife for search and replace in strings.</p>
<p>The simplest use – search and replace a substring, like this:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">// replace a dash by a colon
alert('12-34-56'.replace(&quot;-&quot;, &quot;:&quot;)) // 12:34-56</code></pre>
        </div>
      </div>
      
      </div><p>When the first argument of <code>replace</code> is a string, it only looks for the first match.</p>
<p>To find all dashes, we need to use not the string <code>&quot;-&quot;</code>, but a regexp <code class="pattern">/-/g</code>, with an obligatory <code>g</code> flag:</p>
<div data-trusted="1" class="code-example" data-highlight-inline="1:27-31">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">// replace all dashes by a colon
alert( '12-34-56'.replace( /-/g, &quot;:&quot; ) )  // 12:34:56</code></pre>
        </div>
      </div>
      
      </div><p>The second argument is a replacement string.</p>
<p>We can use special characters in it:</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Inserts</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$$</code></td>
<td><code>&quot;$&quot;</code></td>
</tr>
<tr>
<td><code>$&amp;</code></td>
<td>the whole match</td>
</tr>
<tr>
<td><code>$`</code></td>
<td>a part of the string before the match</td>
</tr>
<tr>
<td><code>$'</code></td>
<td>a part of the string after the match</td>
</tr>
<tr>
<td><code>$n</code></td>
<td>if <code>n</code> is a 1-2 digit number, then it means the contents of n-th parentheses counting from left to right</td>
</tr>
</tbody>
</table>
<p>For instance let’s use <code>$&amp;</code> to replace all entries of <code>&quot;John&quot;</code> by <code>&quot;Mr.John&quot;</code>:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;John Doe, John Smith and John Bull.&quot;;

// for each John - replace it with Mr. and then John
alert(str.replace(/John/g, 'Mr.$&amp;'));
// &quot;Mr.John Doe, Mr.John Smith and Mr.John Bull.&quot;;</code></pre>
        </div>
      </div>
      
      </div><p>Parentheses are very often used together with <code>$1</code>, <code>$2</code>, like this:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;John Smith&quot;;

alert(str.replace(/(John) (Smith)/, '$2, $1')) // Smith, John</code></pre>
        </div>
      </div>
      
      </div><p><strong>For situations that require “smart” replacements, the second argument can be a function.</strong></p>
<p>It will be called for each match, and its result will be inserted as a replacement.</p>
<p>For instance:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let i = 0;

// replace each &quot;ho&quot; by the result of the function
alert(&quot;HO-Ho-ho&quot;.replace(/ho/gi, function() {
  return ++i;
})); // 1-2-3</code></pre>
        </div>
      </div>
      
      </div><p>In the example above the function just returns the next number every time, but usually the result is based on the match.</p>
<p>The function is called with arguments <code>func(str, p1, p2, ..., pn, offset, s)</code>:</p>
<ol>
<li><code>str</code> – the match,</li>
<li><code>p1, p2, ..., pn</code> – contents of parentheses (if there are any),</li>
<li><code>offset</code> – position of the match,</li>
<li><code>s</code> – the source string.</li>
</ol>
<p>If there are no parentheses in the regexp, then the function always has 3 arguments: <code>func(str, offset, s)</code>.</p>
<p>Let’s use it to show full information about matches:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">// show and replace all matches
function replacer(str, offset, s) {
  alert(`Found ${str} at position ${offset} in string ${s}`);
  return str.toLowerCase();
}

let result = &quot;HO-Ho-ho&quot;.replace(/ho/gi, replacer);
alert( 'Result: ' + result ); // Result: ho-ho-ho

// shows each match:
// Found HO at position 0 in string HO-Ho-ho
// Found Ho at position 3 in string HO-Ho-ho
// Found ho at position 6 in string HO-Ho-ho</code></pre>
        </div>
      </div>
      
      </div><p>In the example below there are two parentheses, so <code>replacer</code> is called with 5 arguments: <code>str</code> is the full match, then parentheses, and then <code>offset</code> and <code>s</code>:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">function replacer(str, name, surname, offset, s) {
  // name is the first parentheses, surname is the second one
  return surname + &quot;, &quot; + name;
}

let str = &quot;John Smith&quot;;

alert(str.replace(/(John) (Smith)/, replacer)) // Smith, John</code></pre>
        </div>
      </div>
      
      </div><p>Using a function gives us the ultimate replacement power, because it gets all the information about the match, has access to outer variables and can do everything.</p>
<h2><a class="main__anchor" name="regexp-test-str" href="#regexp-test-str">regexp.test(str)</a></h2><p>Let’s move on to the methods of <code>RegExp</code> class, that are callable on regexps themselves.</p>
<p>The <code>test</code> method looks for any match and returns <code>true/false</code> whether he found it.</p>
<p>So it’s basically the same as <code>str.search(reg) != -1</code>, for instance:</p>
<div data-trusted="1" class="code-example" data-highlight-inline="3:7-14,4:18-25">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;I love JavaScript&quot;;

// these two tests do the same
alert( /love/i.test(str) ); // true
alert( str.search(/love/i) != -1 ); // true</code></pre>
        </div>
      </div>
      
      </div><p>An example with the negative answer:</p>
<div data-trusted="1" class="code-example" data-highlight-inline="2:7-14,3:18-25">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;Bla-bla-bla&quot;;

alert( /love/i.test(str) ); // false
alert( str.search(/love/i) != -1 ); // false</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="regexp-exec-str" href="#regexp-exec-str">regexp.exec(str)</a></h2><p>We’ve already seen these searching methods:</p>
<ul>
<li><code>search</code> – looks for the position of the match,</li>
<li><code>match</code> – if there’s no <code>g</code> flag, returns the first match with parentheses,</li>
<li><code>match</code> – if there’s a <code>g</code> flag – returns all matches, without separating parentheses.</li>
</ul>
<p>The <code>regexp.exec</code> method is a bit harder to use, but it allows to search all matches with parentheses and positions.</p>
<p>It behaves differently depending on whether the regexp has the <code>g</code> flag.</p>
<ul>
<li>If there’s no <code>g</code>, then <code>regexp.exec(str)</code> returns the first match, exactly as <code>str.match(reg)</code>.</li>
<li>If there’s <code>g</code>, then <code>regexp.exec(str)</code> returns the first match and <em>remembers</em> the position after it in <code>regexp.lastIndex</code> property. The next call starts to search from <code>regexp.lastIndex</code> and returns the next match. If there are no more matches then <code>regexp.exec</code> returns <code>null</code> and <code>regexp.lastIndex</code> is set to <code>0</code>.</li>
</ul>
<p>As we can see, the method gives us nothing new if we use it without the <code>g</code> flag, because <code>str.match</code> does exactly the same.</p>
<p>But the <code>g</code> flag allows to get all matches with their positions and parentheses groups.</p>
<p>Here’s the example how subsequent <code>regexp.exec</code> calls return matches one by one:</p>
<div data-trusted="1" class="code-example" data-highlight-block="4-4,13-13,22-22">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;A lot about JavaScript at https://javascript.info&quot;;

let regexp = /JAVA(SCRIPT)/ig;

// Look for the first match
let matchOne = regexp.exec(str);
alert( matchOne[0] ); // JavaScript
alert( matchOne[1] ); // script
alert( matchOne.index ); // 12 (the position of the match)
alert( matchOne.input ); // the same as str

alert( regexp.lastIndex ); // 22 (the position after the match)

// Look for the second match
let matchTwo = regexp.exec(str); // continue searching from regexp.lastIndex
alert( matchTwo[0] ); // javascript
alert( matchTwo[1] ); // script
alert( matchTwo.index ); // 34 (the position of the match)
alert( matchTwo.input ); // the same as str

alert( regexp.lastIndex ); // 44 (the position after the match)

// Look for the third match
let matchThree = regexp.exec(str); // continue searching from regexp.lastIndex
alert( matchThree ); // null (no match)

alert( regexp.lastIndex ); // 0 (reset)</code></pre>
        </div>
      </div>
      
      </div><p>As we can see, each <code>regexp.exec</code> call returns the match in a “full format”: as an array with parentheses, <code>index</code> and <code>input</code> properties.</p>
<p>The main use case for <code>regexp.exec</code> is to find all matches in a loop:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = 'A lot about JavaScript at https://javascript.info';

let regexp = /javascript/ig;

let result;

while (result = regexp.exec(str)) {
  alert( `Found ${result[0]} at ${result.index}` );
}</code></pre>
        </div>
      </div>
      
      </div><p>The loop continues until <code>regexp.exec</code> returns <code>null</code> that means “no more matches”.</p>
<div class="important important_smart">
            <div class="important__header"><span class="important__type">Search from the given position</span></div>
            <div class="important__content"><p>We can force <code>regexp.exec</code> to start searching from the given position by setting <code>lastIndex</code> manually:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = 'A lot about JavaScript at https://javascript.info';

let regexp = /javascript/ig;
regexp.lastIndex = 30;

alert( regexp.exec(str).index ); // 34, the search starts from the 30th position</code></pre>
        </div>
      </div>
      
      </div></div></div>
<h2><a class="main__anchor" name="y-flag" href="#y-flag">The &quot;y&quot; flag</a></h2><p>The <code>y</code> flag means that the search should find a match exactly at the position specified by the property <code>regexp.lastIndex</code> and only there.</p>
<p>In other words, normally the search is made in the whole string: <code class="pattern">/javascript/</code> looks for “javascript” everywhere in the string.</p>
<p>But when a regexp has the <code>y</code> flag, then it only looks for the match at the position specified in <code>regexp.lastIndex</code> (<code>0</code> by default).</p>
<p>For instance:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let str = &quot;I love JavaScript!&quot;;

let reg = /javascript/iy;

alert( reg.lastIndex ); // 0 (default)
alert( str.match(reg) ); // null, not found at position 0

reg.lastIndex = 7;
alert( str.match(reg) ); // JavaScript (right, that word starts at position 7)

// for any other reg.lastIndex the result is null</code></pre>
        </div>
      </div>
      
      </div><p>The regexp <code class="pattern">/javascript/iy</code> can only be found if we set <code>reg.lastIndex=7</code>, because due to <code>y</code> flag the engine only tries to find it in the single place within a string – from the <code>reg.lastIndex</code> position.</p>
<p>So, what’s the point? Where do we apply that?</p>
<p>The reason is performance.</p>
<p>The <code>y</code> flag works great for parsers – programs that need to “read” the text and build in-memory syntax structure or perform actions from it. For that we move along the text and apply regular expressions to see what we have next: a string? A number? Something else?</p>
<p>The <code>y</code> flag allows to apply a regular expression (or many of them one-by-one) exactly at the given position and when we understand what’s there, we can move on – step by step examining the text.</p>
<p>Without the flag the regexp engine always searches till the end of the text, that takes time, especially if the text is large. So our parser would be very slow. The <code>y</code> flag is exactly the right thing here.</p>
<h2><a class="main__anchor" name="summary-recipes" href="#summary-recipes">Summary, recipes</a></h2><p>Methods become much easier to understand if we separate them by their use in real-life tasks.</p>
<dl>
<dt>To search for the first match only:</dt>
<dd>
<ul>
<li>Find the position of the first match – <code>str.search(reg)</code>.</li>
</ul>
</dd>
</dl>
<ul>
<li>Find the full match – <code>str.match(reg)</code>.</li>
<li>Check if there’s a match – <code>regexp.test(str)</code>.</li>
<li>Find the match from the given position – <code>regexp.exec(str)</code>, set <code>regexp.lastIndex</code> to position.</li>
</ul>
<dl>
<dt>To search for all matches:</dt>
<dd>
<ul>
<li>An array of matches – <code>str.match(reg)</code>, the regexp with <code>g</code> flag.</li>
</ul>
</dd>
</dl>
<ul>
<li>Get all matches with full information about each one – <code>regexp.exec(str)</code> with <code>g</code> flag in the loop.</li>
</ul>
<dl>
<dt>To search and replace:</dt>
<dd>
<ul>
<li>Replace with another string or a function result – <code>str.replace(reg, str|func)</code></li>
</ul>
</dd>
<dt>To split the string:</dt>
<dd>
<ul>
<li><code>str.split(str|reg)</code></li>
</ul>
</dd>
</dl>
<p>We also covered two flags:</p>
<ul>
<li>The <code>g</code> flag to find all matches (global search),</li>
<li>The <code>y</code> flag to search at exactly the given position inside the text.</li>
</ul>
<p>Now we know the methods and can use regular expressions. But we need to learn their syntax, so let’s move on.</p>
</div></article><!--if lang == 'en'--><!--  include /blocks/banner-bottom.en--></div><div class="page__nav-wrap"><a href="regexp-introduction.html" data-tooltip="Patterns and flags" class="page__nav page__nav_prev"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Previous lesson</span></a><a href="regexp-character-classes.html" data-tooltip="Character classes" class="page__nav page__nav_next"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Next lesson</span></a></div><div class="article-tablet-foot tablet-only"><div class="article-tablet-foot__layout"><div class="share-icons"><span class="share-icons__title">Share</span><a href="https://twitter.com/share?url=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_tw"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_fb"></a><a href="https://plus.google.com/share?url=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_gp"></a><a href="https://vkontakte.ru/share.php?url=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_vk"></a></div><div class="article-tablet-foot__map"><a href="tutorial/map.html" data-action="tutorial-map" class="map"><span class="map__text">Tutorial map</span></a></div></div></div><div id="comments" class="comments"><div class="comments__header"><h2 class="comments__header-title"><a href="#comments" name="comments">Comments</a></h2><div class="comments__read-before"><span class="comments__read-before-link">read this before commenting…</span><div class="comments__read-before-popup"><div class="comments__read-before-popup-i"><ul><li>You're welcome to post additions, questions to the articles and answers to them.</li><li>To insert a few words of code, use the <code>&lt;code&gt;</code> tag, for several lines – use <code>&lt;pre&gt;</code>, for more than 10 lines – use a sandbox (<a href='http://plnkr.co/edit/?p=preview'>plnkr</a>, <a href='http://jsbin.com/'>JSBin</a>, <a href='http://codepen.io/'>codepen</a>…)</li><li>If you can't understand something in the article – please elaborate.</li></ul></div></div></div></div></div><div id="disqus_thread"></div><script>var disqus_config = function() { if (!this.page) this.page = {}; Object.assign(this.page, {"url":"https:\/\/javascript.info\/regexp-methods","identifier":"\/regexp-methods","title":"Methods of RegExp and String"}); };</script><script>var disqus_shortname = "javascriptinfo";</script><script>var disqus_enabled = true;</script></main></div><div class="page__sidebar sidebar sidebar_sticky-footer"><button data-sidebar-toggle class="sidebar__toggle"></button><a href="tutorial/map.html" data-action="tutorial-map" data-tooltip="Tutorial map" class="map"></a><div class="sidebar__inner"><div class="sidebar__content"><div class="sidebar__section"><h4 class="sidebar__section-title">Chapter</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a href="regular-expressions.html" class="sidebar__link">Regular expressions</a></li></ul></nav></div><div class="sidebar__section"><h4 class="sidebar__section-title">Lesson navigation</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a href="#str-search-reg" class="sidebar__link">str.search(reg)</a></li><li class="sidebar__navigation-link"><a href="#str-match-reg-no-g-flag" class="sidebar__link">str.match(reg), no “g” flag</a></li><li class="sidebar__navigation-link"><a href="#str-match-reg-with-g-flag" class="sidebar__link">str.match(reg) with “g” flag</a></li><li class="sidebar__navigation-link"><a href="#str-split-regexp-substr-limit" class="sidebar__link">str.split(regexp|substr, limit)</a></li><li class="sidebar__navigation-link"><a href="#str-replace-str-reg-str-func" class="sidebar__link">str.replace(str|reg, str|func)</a></li><li class="sidebar__navigation-link"><a href="#regexp-test-str" class="sidebar__link">regexp.test(str)</a></li><li class="sidebar__navigation-link"><a href="#regexp-exec-str" class="sidebar__link">regexp.exec(str)</a></li><li class="sidebar__navigation-link"><a href="#y-flag" class="sidebar__link">The &quot;y&quot; flag</a></li><li class="sidebar__navigation-link"><a href="#summary-recipes" class="sidebar__link">Summary, recipes</a></li></ul></nav></div><div class="sidebar__section"><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a href="#comments" class="sidebar__link">Comments</a></li></ul></nav></div><div class="sidebar__section"><div class="sidebar__section-title">Share</div><a href="https://twitter.com/share?url=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_tw sidebar__share"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_fb sidebar__share"></a><a href="https://plus.google.com/share?url=http%3A%2F%2Fjavascript.info%2Fregexp-methods" class="share share_gp sidebar__share"></a></div><div class="sidebar__section"><a href="https://github.com/iliakan/javascript-tutorial-en/tree/master/5-regular-expressions/02-regexp-methods/article.md" class="sidebar__link">Edit on Github</a></div></div></div></div></div></div><div class="page-footer"><div class="page-footer__left"><ul class="page-footer__list"><li class="page-footer__item">©&nbsp;2007—2018&nbsp; Ilya Kantor</li><li class="page-footer__item"><a href="about.html#contact-us" class="page-footer__link">contact us</a></li><li class="page-footer__item"><a href="about.html" class="page-footer__link">about the project</a></li><li class="page-footer__item"><a href="https://learn.javascript.ru/" class="page-footer__link">RU</a> / EN</li></ul></div><div class="page-footer__right"><ul class="page-footer__list"><li class="page-footer__item">powered by <a rel="nofollow" href="http://nodejs.org/" class="page-footer__link">node.js</a>&nbsp;&amp;&nbsp;<a rel="nofollow" href="http://github.com/iliakan/javascript-tutorial-en" class="page-footer__link">open source</a></li></ul></div></div></body>
<!-- Mirrored from javascript.info/regexp-methods by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Sep 2018 10:51:27 GMT -->
</html>