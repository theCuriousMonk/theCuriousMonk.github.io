<!DOCTYPE html><html lang="en">
<!-- Mirrored from javascript.info/prototype-methods by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Sep 2018 10:49:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><script>window.currentUser = null;</script><title itemprop="name">Methods for prototypes</title><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><script>if (window.devicePixelRatio > 1) document.cookie = 'pixelRatio=' + window.devicePixelRatio + ';path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT';</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700%7COpen+Sans+Condensed:700&amp;subset=latin,latin-ext,cyrillic,cyrillic-ext" rel="stylesheet"><link rel="apple-touch-icon-precomposed" href="img/favicon/apple-touch-icon-precomposed.png"><link rel="canonical" href="prototype-methods.html"><meta name="msapplication-TileColor" content="#222A2C"><meta name="msapplication-TileImage" content="/img/favicon/tileicon.png"><!-- favicon the rest--><link rel="icon" href="img/favicon/favicon.png"><meta itemprop="image" content="https://javascript.info/img/site_preview_en_512x512.png"><meta property="og:title" content="Methods for prototypes"><meta property="og:image" content="https://javascript.info/img/site_preview_en_1200x630.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="fb:admins" content="100001562528165"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Methods for prototypes"><meta name="twitter:site" content="@iliakan"><meta name="twitter:creator" content="@iliakan"><meta name="twitter:image" content="https://javascript.info/img/site_preview_en_512x512.png"><link href="pack/styles.b363cbd7204b6ec74a4cbeca7061b31d.css" rel="stylesheet"><link rel="prev" href="native-prototypes.html"><link rel="next" href="class-patterns.html"><script>window.GA_ID = "UA-2056213-15";</script><script>window.YANDEX_METRIKA_ID = 32184394;</script><script>window.GoogleAnalyticsObject="ga",window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[],window.ga.l=Date.now(),ga("create",GA_ID,"auto"),window.currentUser?ga("set","&uid",currentUser.id):ga("set","anonymizeIp",!0),window.addEventListener("error",function(e){var n=(e.filename||e.errorUrl)+": "+(e.lineno||e.errorLine),r=e.stack||e.error&&e.error.stack;ga("send","exception",{exDescription:e.message+" "+n+" "+r,exFatal:!0})});</script><script src="../www.google-analytics.com/analytics.js" async></script><script>ga('send', 'pageview');</script><script>window.metrika={reachGoal:function(){}},window.yandex_metrika_callbacks=[function(){try{window.metrika=new Ya.Metrika({id:YANDEX_METRIKA_ID,webvisor:!0,clickmap:!0,params:{user:window.currentUser&&window.currentUser.id}}),metrika.trackLinks({delay:150}),window.addEventListener("error",function(r){window.metrika.reachGoal("JSERROR",{src:(r.filename||r.errorUrl)+": "+(r.lineno||r.errorLine),stack:r.stack||r.error&&r.error.stack,message:r.message})})}catch(r){}}];</script><script src="../mc.yandex.ru/metrika/watch.js" async></script><script>window.RECAPTCHA_ID = "6Lf9NyETAAAAACZlg-a9Us2SxvYbeVC1ROWaWv4O";</script><script src="inite4da.js?5"></script><script src="pack/head.5ac6aee21473ea597203.js" defer></script><meta property="og:title" content="Methods for prototypes"><meta property="og:type" content="article"><script src="pack/tutorial.5ac6aee21473ea597203.js" defer></script><script src="pack/footer.5ac6aee21473ea597203.js" defer></script></head><body class="no-icons"><script>window.fontTest();</script><div class="page-wrapper page-wrapper_sidebar_on"><!--[if lt IE 10]><div style="color:red;text-align:center">Sorry, IE&lt;10 is not supported, please use a newer browser.</div><![endif]--><div class="sitetoolbar sitetoolbar_tutorial"><div style="display:none" id="notify-en-tutorial" class="notification notification_info notification_top sitetoolbar__notification"><div class="notification__content">The tutorial was recently rewritten from scratch. There may be typos, please use the "Edit on Github" link (in left sidebar in an article, at the bottom) to propose fixes.
Thank you!</div><button title="Close" class="notification__close"></button></div><script>showTopNotification();</script><div class="sitetoolbar__content"><div class="sitetoolbar__logo-wrap"><a href="index.html" class="sitetoolbar__link sitetoolbar__link_logo"><img src="img/sitetoolbar__logo_en.svg" width="200" class="sitetoolbar__logo sitetoolbar__logo_normal" alt=""><img src="img/sitetoolbar__logo_small_en.svg" width="70" class="sitetoolbar__logo sitetoolbar__logo_small" alt=""><script>Array.prototype.forEach.call(document.querySelectorAll("img.sitetoolbar__logo"),function(e){var t=document.createElement("object");t.type="image/svg+xml",t.className=e.className,t.style.cssText="left:0;top:0;position:absolute",t.onload=function(){t.onload=null,e.style.visibility="hidden"},t.data=e.src,e.parentNode.insertBefore(t,e)});</script></a></div><div class="sitetoolbar__nav-toggle-wrap"><button type="button" class="sitetoolbar__nav-toggle"></button></div><nav class="sitetoolbar__sections"><ul class="sitetoolbar__sections-list"><li class="sitetoolbar__section sitetoolbar__section_current"><a href="index.html" class="sitetoolbar__link">Tutorial</a></li><li class="sitetoolbar__section"><a href="courses.html" class="sitetoolbar__link">Courses</a></li></ul></nav><div class="sitetoolbar__book-wrap"><a href="ebook.html" class="buy-book-button"><span class="buy-book-button__extra-text">Buy</span>EPUB/PDF</a></div><div class="sitetoolbar__login-wrap"><button data-action-login class="sitetoolbar__login sitetoolbar__login_unready"></button></div><div class="sitetoolbar__search-wrap"><div class="sitetoolbar__search-content"><form method="GET" action="http://javascript.info/search" class="sitetoolbar__search"><button type="button" class="sitetoolbar__search-toggle"></button><div class="sitetoolbar__search-input"><div class="text-input"><input autofocus name="query" placeholder="Search on Javascript.info" class="text-input__control" type="text"></div><button type="submit" class="sitetoolbar__find">Search</button></div></form></div></div></div><!-- todo: en variant--><div class="tablet-menu"><div class="tablet-menu__line"><div class="tablet-menu__content"><select onchange="if(this.value) window.location.href=this.value" class="input-select input-select_small tablet-menu__nav"><option value="/tutorial" selected>Tutorial</option><option value="/courses">Courses</option></select></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><form action="http://javascript.info/search/" class="tablet-menu-search"><input type="search" name="query" placeholder="Search in the tutorial" required class="tablet-menu-search__input"><button type="submit" name="type" value="articles" class="tablet-menu-search__button">Search</button></form></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><a href="tutorial/map.html" data-action="tutorial-map" class="map"><span class="map__text">Tutorial map</span></a></div></div><!--+e.line--><!--  +e.content--><!--    +b("a").tablet-ebook(href="/ebook")--><!--      +e("span").text Купить учебник--><!--      +e("span").note (EPUB + PDF)--><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="share-icons"><span class="share-icons__title">Share</span><a href="https://twitter.com/share?url=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_tw"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_fb"></a><a href="https://plus.google.com/share?url=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_gp"></a><a href="https://vkontakte.ru/share.php?url=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_vk"></a></div></div></div></div><progress data-sticky value="60" max="67" data-tooltip="Lesson 60 of 67" class="tutorial-progress"></progress></div><div class="page page_sidebar_on"><script>if(localStorage.noSidebar){document.querySelector(".page").classList.remove("page_sidebar_on");var pageWrapper=document.querySelector(".page-wrapper");pageWrapper&&pageWrapper.classList.remove("page-wrapper_sidebar_on")}setTimeout(function(){document.querySelector(".page").classList.add("page_sidebar-animation-on")},0);</script><div class="page__inner"><main class="main main_width-limit"><header class="main__header"><div class="main__header-inner"><ol class="breadcrumbs"><li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb-1" class="breadcrumbs__item breadcrumbs__item_home"><a href="index.html" itemprop="url" class="breadcrumbs__link"><span itemprop="title" class="breadcrumbs__hidden-text">Tutorial</span></a></li><li id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb-2" itemprop="child" class="breadcrumbs__item"><a href="js.html" itemprop="url" class="breadcrumbs__link"><span itemprop="title">The JavaScript language</span></a></li><li id="breadcrumb-2" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="breadcrumbs__item"><a href="object-oriented-programming.html" itemprop="url" class="breadcrumbs__link"><span itemprop="title">Objects, classes, inheritance</span></a></li></ol><h1 class="main__header-title">Methods for prototypes</h1></div></header><div class="content"><article itemscope itemtype="http://schema.org/TechArticle"><meta itemprop="name" content="Methods for prototypes"><div itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="email" content="iliakan@gmail.com"><meta itemprop="name" content="Ilya Kantor"></div><div itemprop="articleBody"><p>In this chapter we cover additional methods to work with a prototype.</p>
<p>There are also other ways to get/set a prototype, besides those that we already know:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create">Object.create(proto[, descriptors])</a> – creates an empty object with given <code>proto</code> as <code>[[Prototype]]</code> and optional property descriptors.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf">Object.getPrototypeOf(obj)</a> – returns the <code>[[Prototype]]</code> of <code>obj</code>.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf">Object.setPrototypeOf(obj, proto)</a> – sets the <code>[[Prototype]]</code> of <code>obj</code> to <code>proto</code>.</li>
</ul>
<p>For instance:</p>
<div data-trusted="1" class="code-example" data-highlight-block="5-5,8-8,10-10">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let animal = {
  eats: true
};

// create a new object with animal as a prototype
let rabbit = Object.create(animal);

alert(rabbit.eats); // true
alert(Object.getPrototypeOf(rabbit) === animal); // get the prototype of rabbit

Object.setPrototypeOf(rabbit, {}); // change the prototype of rabbit to {}</code></pre>
        </div>
      </div>
      
      </div><p><code>Object.create</code> has an optional second argument: property descriptors. We can provide additional properties to the new object there, like this:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let animal = {
  eats: true
};

let rabbit = Object.create(animal, {
  jumps: {
    value: true
  }
});

alert(rabbit.jumps); // true</code></pre>
        </div>
      </div>
      
      </div><p>The descriptors are in the same format as described in the chapter <a href="property-descriptors.html">Property flags and descriptors</a>.</p>
<p>We can use <code>Object.create</code> to perform an object cloning more powerful than copying properties in <code>for..in</code>:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">// fully identical shallow clone of obj
let clone = Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));</code></pre>
        </div>
      </div>
      
      </div><p>This call makes a truly exact copy of <code>obj</code>, including all properties: enumerable and non-enumerable, data properties and setters/getters – everything, and with the right <code>[[Prototype]]</code>.</p>
<h2><a class="main__anchor" name="brief-history" href="#brief-history">Brief history</a></h2><p>If we count all the ways to manage <code>[[Prototype]]</code>, there’s a lot! Many ways to do the same!</p>
<p>Why so?</p>
<p>That’s for historical reasons.</p>
<ul>
<li>The <code>&quot;prototype&quot;</code> property of a constructor function works since very ancient times.</li>
<li>Later in the year 2012: <code>Object.create</code> appeared in the standard. It allowed to create objects with the given prototype, but did not allow to get/set it. So browsers implemented non-standard <code>__proto__</code> accessor that allowed to get/set a prototype at any time.</li>
<li>Later in the year 2015: <code>Object.setPrototypeOf</code> and <code>Object.getPrototypeOf</code> were added to the standard. The <code>__proto__</code> was de-facto implemented everywhere, so it made its way to the Annex B of the standard, that is optional for non-browser environments.</li>
</ul>
<p>As of now we have all these ways at our disposal.</p>
<p>Technically, we can get/set <code>[[Prototype]]</code> at any time. But usually we only set it once at the object creation time, and then do not modify: <code>rabbit</code> inherits from <code>animal</code>, and that is not going to change. And JavaScript engines are highly optimized to that. Changing a prototype “on-the-fly” with <code>Object.setPrototypeOf</code> or <code>obj.__proto__=</code> is a very slow operation. But it is possible.</p>
<h2><a class="main__anchor" name="very-plain-objects" href="#very-plain-objects">“Very plain” objects</a></h2><p>As we know, objects can be used as associative arrays to store key/value pairs.</p>
<p>…But if we try to store <em>user-provided</em> keys in it (for instance, a user-entered dictionary), we can see an interesting glitch: all keys work fine except <code>&quot;__proto__&quot;</code>.</p>
<p>Check out the example:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let obj = {};

let key = prompt(&quot;What's the key?&quot;, &quot;__proto__&quot;);
obj[key] = &quot;some value&quot;;

alert(obj[key]); // [object Object], not &quot;some value&quot;!</code></pre>
        </div>
      </div>
      
      </div><p>Here if the user types in <code>__proto__</code>, the assignment is ignored!</p>
<p>That shouldn’t surprise us. The <code>__proto__</code> property is special: it must be either an object or <code>null</code>, a string can not become a prototype.</p>
<p>But we did not intend to implement such behavior, right? We want to store key/value pairs, and the key named <code>&quot;__proto__&quot;</code> was not properly saved. So that’s a bug. Here the consequences are not terrible. But in other cases the prototype may indeed be changed, so the execution may go wrong in totally unexpected ways.</p>
<p>What’s worst – usually developers do not think about such possibility at all. That makes such bugs hard to notice and even turn them into vulnerabilities, especially when JavaScript is used on server-side.</p>
<p>Such thing happens only with <code>__proto__</code>. All other properties are “assignable” normally.</p>
<p>How to evade the problem?</p>
<p>First, we can just switch to using <code>Map</code>, then everything’s fine.</p>
<p>But <code>Object</code> also can serve us well here, because language creators gave a thought to that problem long ago.</p>
<p>The <code>__proto__</code> is not a property of an object, but an accessor property of <code>Object.prototype</code>:</p>
<figure><div class="image" style="width:423px">
      <div class="image__ratio" style="padding-top:41.13475177304964%"></div>
      <img src="article/prototype-methods/object-prototype-2.png" alt="" width="423" height="174" class="image__image">
      </div></figure><p>So, if <code>obj.__proto__</code> is read or assigned, the corresponding getter/setter is called from its prototype, and it gets/sets <code>[[Prototype]]</code>.</p>
<p>As it was said in the beginning: <code>__proto__</code> is a way to access <code>[[Prototype]]</code>, it is not <code>[[Prototype]]</code> itself.</p>
<p>Now, if we want to use an object as an associative array, we can do it with a little trick:</p>
<div data-trusted="1" class="code-example" data-highlight-block="0-0">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let obj = Object.create(null);

let key = prompt(&quot;What's the key?&quot;, &quot;__proto__&quot;);
obj[key] = &quot;some value&quot;;

alert(obj[key]); // &quot;some value&quot;</code></pre>
        </div>
      </div>
      
      </div><p><code>Object.create(null)</code> creates an empty object without a prototype (<code>[[Prototype]]</code> is <code>null</code>):</p>
<figure><div class="image" style="width:177px">
      <div class="image__ratio" style="padding-top:60.451977401129945%"></div>
      <img src="article/prototype-methods/object-prototype-null.png" alt="" width="177" height="107" class="image__image">
      </div></figure><p>So, there is no inherited getter/setter for <code>__proto__</code>. Now it is processed as a regular data property, so the example above works right.</p>
<p>We can call such object “very plain” or “pure dictionary objects”, because they are even simpler than regular plain object <code>{...}</code>.</p>
<p>A downside is that such objects lack any built-in object methods, e.g. <code>toString</code>:</p>
<div data-trusted="1" class="code-example" data-highlight-block="0-0">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let obj = Object.create(null);

alert(obj); // Error (no toString)</code></pre>
        </div>
      </div>
      
      </div><p>…But that’s usually fine for associative arrays.</p>
<p>Please note that most object-related methods are <code>Object.something(...)</code>, like <code>Object.keys(obj)</code> – they are not in the prototype, so they will keep working on such objects:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let chineseDictionary = Object.create(null);
chineseDictionary.hello = &quot;ni hao&quot;;
chineseDictionary.bye = &quot;zai jian&quot;;

alert(Object.keys(chineseDictionary)); // hello,bye</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="getting-all-properties" href="#getting-all-properties">Getting all properties</a></h2><p>There are many ways to get keys/values from an object.</p>
<p>We already know these ones:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">Object.keys(obj)</a> / <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values">Object.values(obj)</a> / <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries">Object.entries(obj)</a> – returns an array of enumerable own string property names/values/key-value pairs. These methods only list <em>enumerable</em> properties, and those that have <em>strings as keys</em>.</li>
</ul>
<p>If we want symbolic properties:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols">Object.getOwnPropertySymbols(obj)</a> – returns an array of all own symbolic property names.</li>
</ul>
<p>If we want non-enumerable properties:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames">Object.getOwnPropertyNames(obj)</a> – returns an array of all own string property names.</li>
</ul>
<p>If we want <em>all</em> properties:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect/ownKeys">Reflect.ownKeys(obj)</a> – returns an array of all own property names.</li>
</ul>
<p>These methods are a bit different about which properties they return, but all of them operate on the object itself. Properties from the prototype are not listed.</p>
<p>The <code>for..in</code> loop is different: it loops over inherited properties too.</p>
<p>For instance:</p>
<div data-trusted="1" class="code-example" data-highlight-block="9-10,12-13">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let animal = {
  eats: true
};

let rabbit = {
  jumps: true,
  __proto__: animal
};

// only own keys
alert(Object.keys(rabbit)); // jumps

// inherited keys too
for(let prop in rabbit) alert(prop); // jumps, then eats</code></pre>
        </div>
      </div>
      
      </div><p>If we want to distinguish inherited properties, there’s a built-in method <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty">obj.hasOwnProperty(key)</a>: it returns <code>true</code> if <code>obj</code> has its own (not inherited) property named <code>key</code>.</p>
<p>So we can filter out inherited properties (or do something else with them):</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let animal = {
  eats: true
};

let rabbit = {
  jumps: true,
  __proto__: animal
};

for(let prop in rabbit) {
  let isOwn = rabbit.hasOwnProperty(prop);
  alert(`${prop}: ${isOwn}`); // jumps:true, then eats:false
}</code></pre>
        </div>
      </div>
      
      </div><p>Here we have the following inheritance chain: <code>rabbit</code>, then <code>animal</code>, then <code>Object.prototype</code> (because <code>animal</code> is a literal object <code>{...}</code>, so it’s by default), and then <code>null</code> above it:</p>
<figure><div class="image" style="width:210px">
      <div class="image__ratio" style="padding-top:153.33333333333334%"></div>
      <img src="article/prototype-methods/rabbit-animal-object.png" alt="" width="210" height="322" class="image__image">
      </div></figure><p>Note, there’s one funny thing. Where is the method <code>rabbit.hasOwnProperty</code> coming from? Looking at the chain we can see that the method is provided by <code>Object.prototype.hasOwnProperty</code>. In other words, it’s inherited.</p>
<p>…But why <code>hasOwnProperty</code> does not appear in <code>for..in</code> loop, if it lists all inherited properties?  The answer is simple: it’s not enumerable. Just like all other properties of <code>Object.prototype</code>. That’s why they are not listed.</p>
<h2><a class="main__anchor" name="summary" href="#summary">Summary</a></h2><p>Here’s a brief list of methods we discussed in this chapter – as a recap:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create">Object.create(proto[, descriptors])</a> – creates an empty object with given <code>proto</code> as <code>[[Prototype]]</code> (can be <code>null</code>) and optional property descriptors.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object.getPrototypeOf">Object.getPrototypeOf(obj)</a> – returns the <code>[[Prototype]]</code> of <code>obj</code> (same as <code>__proto__</code> getter).</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object.setPrototypeOf">Object.setPrototypeOf(obj, proto)</a> – sets the <code>[[Prototype]]</code> of <code>obj</code> to <code>proto</code> (same as <code>__proto__</code> setter).</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">Object.keys(obj)</a> / <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values">Object.values(obj)</a> / <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries">Object.entries(obj)</a> – returns an array of enumerable own string property names/values/key-value pairs.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols">Object.getOwnPropertySymbols(obj)</a> – returns an array of all own symbolic property names.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames">Object.getOwnPropertyNames(obj)</a> – returns an array of all own string property names.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect/ownKeys">Reflect.ownKeys(obj)</a> – returns an array of all own property names.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty">obj.hasOwnProperty(key)</a>: it returns <code>true</code> if <code>obj</code> has its own (not inherited) property named <code>key</code>.</li>
</ul>
<p>We also made it clear that <code>__proto__</code> is a getter/setter for <code>[[Prototype]]</code> and resides in <code>Object.prototype</code>, just as other methods.</p>
<p>We can create an object without a prototype by <code>Object.create(null)</code>. Such objects are used as “pure dictionaries”, they have no issues with <code>&quot;__proto__&quot;</code> as the key.</p>
<p>All methods that return object properties (like <code>Object.keys</code> and others) – return “own” properties. If we want inherited ones, then we can use <code>for..in</code>.</p>
</div></article><div class="tasks"><h2 id="tasks" class="tasks__title"><a href="#tasks" class="main__anchor main__anchor_noicon tasks__title-anchor">Tasks</a></h2><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#add-tostring-to-the-dictionary" name="add-tostring-to-the-dictionary" class="main__anchor">Add toString to the dictionary</a></h3><a href="task/dictionary-tostring.html" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="How important is the task, from 1 to 5" class="task__importance">importance: 5</span></div><div class="task__content"><p>There’s an object <code>dictionary</code>, created as <code>Object.create(null)</code>, to store any <code>key/value</code> pairs.</p>
<p>Add method <code>dictionary.toString()</code> into it, that should return a comma-delimited list of keys. Your <code>toString</code> should not show up in <code>for..in</code> over the object.</p>
<p>Here’s how it should work:</p>
<div data-trusted="1" class="code-example" data-highlight-block="2-2">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let dictionary = Object.create(null);

// your code to add dictionary.toString method

// add some data
dictionary.apple = &quot;Apple&quot;;
dictionary.__proto__ = &quot;test&quot;; // __proto__ is a regular property key here

// only apple and __proto__ are in the loop
for(let key in dictionary) {
  alert(key); // &quot;apple&quot;, then &quot;__proto__&quot;
}

// your toString in action
alert(dictionary); // &quot;apple,__proto__&quot;</code></pre>
        </div>
      </div>
      
      </div><button type="button" class="task__solution">solution</button><div class="task__answer"><div class="task__answer-content"><p>The method can take all enumerable keys using <code>Object.keys</code> and output their list.</p>
<p>To make <code>toString</code> non-enumerable, let’s define it using a property descriptor. The syntax of <code>Object.create</code> allows to provide an object with property descriptors as the second argument.</p>
<div data-trusted="1" class="code-example" data-highlight-block="0-6">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">let dictionary = Object.create(null, {
  toString: { // define toString property
    value() { // the value is a function
      return Object.keys(this).join();
    }
  }
});

dictionary.apple = &quot;Apple&quot;;
dictionary.__proto__ = &quot;test&quot;;

// apple and __proto__ is in the loop
for(let key in dictionary) {
  alert(key); // &quot;apple&quot;, then &quot;__proto__&quot;
}

// comma-separated list of properties by toString
alert(dictionary); // &quot;apple,__proto__&quot;</code></pre>
        </div>
      </div>
      
      </div><p>When we create a property using a descriptor, its flags are <code>false</code> by default. So in the code above, <code>dictionary.toString</code> is non-enumerable.</p>
</div><button type="button" title="close" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#the-difference-beteeen-calls" name="the-difference-beteeen-calls" class="main__anchor">The difference beteeen calls</a></h3><a href="task/compare-calls.html" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="How important is the task, from 1 to 5" class="task__importance">importance: 5</span></div><div class="task__content"><p>Let’s create a new <code>rabbit</code> object:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">function Rabbit(name) {
  this.name = name;
}
Rabbit.prototype.sayHi = function() {
  alert(this.name);
};

let rabbit = new Rabbit(&quot;Rabbit&quot;);</code></pre>
        </div>
      </div>
      
      </div><p>These calls do the same thing or not?</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">rabbit.sayHi();
Rabbit.prototype.sayHi();
Object.getPrototypeOf(rabbit).sayHi();
rabbit.__proto__.sayHi();</code></pre>
        </div>
      </div>
      
      </div><button type="button" class="task__solution">solution</button><div class="task__answer"><div class="task__answer-content"><p>The first call has <code>this == rabbit</code>, the other ones have <code>this</code> equal to <code>Rabbit.prototype</code>, because it’s actually the object before the dot.</p>
<p>So only the first call shows <code>Rabbit</code>, other ones show <code>undefined</code>:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">function Rabbit(name) {
  this.name = name;
}
Rabbit.prototype.sayHi = function() {
  alert( this.name );
}

let rabbit = new Rabbit(&quot;Rabbit&quot;);

rabbit.sayHi();                        // Rabbit
Rabbit.prototype.sayHi();              // undefined
Object.getPrototypeOf(rabbit).sayHi(); // undefined
rabbit.__proto__.sayHi();              // undefined</code></pre>
        </div>
      </div>
      
      </div></div><button type="button" title="close" class="close-button task__answer-close"></button></div></div></div></div></div><!--if lang == 'en'--><!--  include /blocks/banner-bottom.en--></div><div class="page__nav-wrap"><a href="native-prototypes.html" data-tooltip="Native prototypes" class="page__nav page__nav_prev"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Previous lesson</span></a><a href="class-patterns.html" data-tooltip="Class patterns" class="page__nav page__nav_next"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Next lesson</span></a></div><div class="article-tablet-foot tablet-only"><div class="article-tablet-foot__layout"><div class="share-icons"><span class="share-icons__title">Share</span><a href="https://twitter.com/share?url=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_tw"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_fb"></a><a href="https://plus.google.com/share?url=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_gp"></a><a href="https://vkontakte.ru/share.php?url=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_vk"></a></div><div class="article-tablet-foot__map"><a href="tutorial/map.html" data-action="tutorial-map" class="map"><span class="map__text">Tutorial map</span></a></div></div></div><div id="comments" class="comments"><div class="comments__header"><h2 class="comments__header-title"><a href="#comments" name="comments">Comments</a></h2><div class="comments__read-before"><span class="comments__read-before-link">read this before commenting…</span><div class="comments__read-before-popup"><div class="comments__read-before-popup-i"><ul><li>You're welcome to post additions, questions to the articles and answers to them.</li><li>To insert a few words of code, use the <code>&lt;code&gt;</code> tag, for several lines – use <code>&lt;pre&gt;</code>, for more than 10 lines – use a sandbox (<a href='http://plnkr.co/edit/?p=preview'>plnkr</a>, <a href='http://jsbin.com/'>JSBin</a>, <a href='http://codepen.io/'>codepen</a>…)</li><li>If you can't understand something in the article – please elaborate.</li></ul></div></div></div></div></div><div id="disqus_thread"></div><script>var disqus_config = function() { if (!this.page) this.page = {}; Object.assign(this.page, {"url":"https:\/\/javascript.info\/prototype-methods","identifier":"\/prototype-methods","title":"Methods for prototypes"}); };</script><script>var disqus_shortname = "javascriptinfo";</script><script>var disqus_enabled = true;</script></main></div><div class="page__sidebar sidebar sidebar_sticky-footer"><button data-sidebar-toggle class="sidebar__toggle"></button><a href="tutorial/map.html" data-action="tutorial-map" data-tooltip="Tutorial map" class="map"></a><div class="sidebar__inner"><div class="sidebar__content"><div class="sidebar__section"><h4 class="sidebar__section-title">Chapter</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a href="object-oriented-programming.html" class="sidebar__link">Objects, classes, inheritance</a></li></ul></nav></div><div class="sidebar__section"><h4 class="sidebar__section-title">Lesson navigation</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a href="#brief-history" class="sidebar__link">Brief history</a></li><li class="sidebar__navigation-link"><a href="#very-plain-objects" class="sidebar__link">“Very plain” objects</a></li><li class="sidebar__navigation-link"><a href="#getting-all-properties" class="sidebar__link">Getting all properties</a></li><li class="sidebar__navigation-link"><a href="#summary" class="sidebar__link">Summary</a></li></ul></nav></div><div class="sidebar__section"><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a href="#tasks" class="sidebar__link">Tasks (2)</a></li><li class="sidebar__navigation-link"><a href="#comments" class="sidebar__link">Comments</a></li></ul></nav></div><div class="sidebar__section"><div class="sidebar__section-title">Share</div><a href="https://twitter.com/share?url=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_tw sidebar__share"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_fb sidebar__share"></a><a href="https://plus.google.com/share?url=http%3A%2F%2Fjavascript.info%2Fprototype-methods" class="share share_gp sidebar__share"></a></div><div class="sidebar__section"><a href="https://github.com/iliakan/javascript-tutorial-en/tree/master/1-js/07-object-oriented-programming/06-prototype-methods/article.md" class="sidebar__link">Edit on Github</a></div></div></div></div></div></div><div class="page-footer"><div class="page-footer__left"><ul class="page-footer__list"><li class="page-footer__item">©&nbsp;2007—2018&nbsp; Ilya Kantor</li><li class="page-footer__item"><a href="about.html#contact-us" class="page-footer__link">contact us</a></li><li class="page-footer__item"><a href="about.html" class="page-footer__link">about the project</a></li><li class="page-footer__item"><a href="https://learn.javascript.ru/" class="page-footer__link">RU</a> / EN</li></ul></div><div class="page-footer__right"><ul class="page-footer__list"><li class="page-footer__item">powered by <a rel="nofollow" href="http://nodejs.org/" class="page-footer__link">node.js</a>&nbsp;&amp;&nbsp;<a rel="nofollow" href="http://github.com/iliakan/javascript-tutorial-en" class="page-footer__link">open source</a></li></ul></div></div></body>
<!-- Mirrored from javascript.info/prototype-methods by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Sep 2018 10:49:17 GMT -->
</html>