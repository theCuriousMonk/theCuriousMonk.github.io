<!DOCTYPE html><html lang="en">
<!-- Mirrored from javascript.info/dom-navigation by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Sep 2018 10:49:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><script>window.currentUser = null;</script><title itemprop="name">Walking the DOM</title><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><script>if (window.devicePixelRatio > 1) document.cookie = 'pixelRatio=' + window.devicePixelRatio + ';path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT';</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700%7COpen+Sans+Condensed:700&amp;subset=latin,latin-ext,cyrillic,cyrillic-ext" rel="stylesheet"><link rel="apple-touch-icon-precomposed" href="img/favicon/apple-touch-icon-precomposed.png"><link rel="canonical" href="dom-navigation.html"><meta name="msapplication-TileColor" content="#222A2C"><meta name="msapplication-TileImage" content="/img/favicon/tileicon.png"><!-- favicon the rest--><link rel="icon" href="img/favicon/favicon.png"><meta itemprop="image" content="https://javascript.info/img/site_preview_en_512x512.png"><meta property="og:title" content="Walking the DOM"><meta property="og:image" content="https://javascript.info/img/site_preview_en_1200x630.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="fb:admins" content="100001562528165"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Walking the DOM"><meta name="twitter:site" content="@iliakan"><meta name="twitter:creator" content="@iliakan"><meta name="twitter:image" content="https://javascript.info/img/site_preview_en_512x512.png"><link href="pack/styles.b363cbd7204b6ec74a4cbeca7061b31d.css" rel="stylesheet"><link rel="prev" href="dom-nodes.html"><link rel="next" href="searching-elements-dom.html"><script>window.GA_ID = "UA-2056213-15";</script><script>window.YANDEX_METRIKA_ID = 32184394;</script><script>window.GoogleAnalyticsObject="ga",window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[],window.ga.l=Date.now(),ga("create",GA_ID,"auto"),window.currentUser?ga("set","&uid",currentUser.id):ga("set","anonymizeIp",!0),window.addEventListener("error",function(e){var n=(e.filename||e.errorUrl)+": "+(e.lineno||e.errorLine),r=e.stack||e.error&&e.error.stack;ga("send","exception",{exDescription:e.message+" "+n+" "+r,exFatal:!0})});</script><script src="../www.google-analytics.com/analytics.js" async></script><script>ga('send', 'pageview');</script><script>window.metrika={reachGoal:function(){}},window.yandex_metrika_callbacks=[function(){try{window.metrika=new Ya.Metrika({id:YANDEX_METRIKA_ID,webvisor:!0,clickmap:!0,params:{user:window.currentUser&&window.currentUser.id}}),metrika.trackLinks({delay:150}),window.addEventListener("error",function(r){window.metrika.reachGoal("JSERROR",{src:(r.filename||r.errorUrl)+": "+(r.lineno||r.errorLine),stack:r.stack||r.error&&r.error.stack,message:r.message})})}catch(r){}}];</script><script src="../mc.yandex.ru/metrika/watch.js" async></script><script>window.RECAPTCHA_ID = "6Lf9NyETAAAAACZlg-a9Us2SxvYbeVC1ROWaWv4O";</script><script src="inite4da.js?5"></script><script src="pack/head.5ac6aee21473ea597203.js" defer></script><script src="../cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<script src="../en.js.cx/libs/domtree.js"></script>
<style>
#travel-dom-comment {
  font-style: italic;
}
#travel-dom-control ul {
  margin: 6px 0;
}
</style><meta property="og:title" content="Walking the DOM"><meta property="og:type" content="article"><script src="pack/tutorial.5ac6aee21473ea597203.js" defer></script><script src="pack/footer.5ac6aee21473ea597203.js" defer></script></head><body class="no-icons"><script>window.fontTest();</script><div class="page-wrapper page-wrapper_sidebar_on"><!--[if lt IE 10]><div style="color:red;text-align:center">Sorry, IE&lt;10 is not supported, please use a newer browser.</div><![endif]--><div class="sitetoolbar sitetoolbar_tutorial"><div style="display:none" id="notify-en-tutorial" class="notification notification_info notification_top sitetoolbar__notification"><div class="notification__content">The tutorial was recently rewritten from scratch. There may be typos, please use the "Edit on Github" link (in left sidebar in an article, at the bottom) to propose fixes.
Thank you!</div><button title="Close" class="notification__close"></button></div><script>showTopNotification();</script><div class="sitetoolbar__content"><div class="sitetoolbar__logo-wrap"><a href="index.html" class="sitetoolbar__link sitetoolbar__link_logo"><img src="img/sitetoolbar__logo_en.svg" width="200" class="sitetoolbar__logo sitetoolbar__logo_normal" alt=""><img src="img/sitetoolbar__logo_small_en.svg" width="70" class="sitetoolbar__logo sitetoolbar__logo_small" alt=""><script>Array.prototype.forEach.call(document.querySelectorAll("img.sitetoolbar__logo"),function(e){var t=document.createElement("object");t.type="image/svg+xml",t.className=e.className,t.style.cssText="left:0;top:0;position:absolute",t.onload=function(){t.onload=null,e.style.visibility="hidden"},t.data=e.src,e.parentNode.insertBefore(t,e)});</script></a></div><div class="sitetoolbar__nav-toggle-wrap"><button type="button" class="sitetoolbar__nav-toggle"></button></div><nav class="sitetoolbar__sections"><ul class="sitetoolbar__sections-list"><li class="sitetoolbar__section sitetoolbar__section_current"><a href="index.html" class="sitetoolbar__link">Tutorial</a></li><li class="sitetoolbar__section"><a href="courses.html" class="sitetoolbar__link">Courses</a></li></ul></nav><div class="sitetoolbar__book-wrap"><a href="ebook.html" class="buy-book-button"><span class="buy-book-button__extra-text">Buy</span>EPUB/PDF</a></div><div class="sitetoolbar__login-wrap"><button data-action-login class="sitetoolbar__login sitetoolbar__login_unready"></button></div><div class="sitetoolbar__search-wrap"><div class="sitetoolbar__search-content"><form method="GET" action="http://javascript.info/search" class="sitetoolbar__search"><button type="button" class="sitetoolbar__search-toggle"></button><div class="sitetoolbar__search-input"><div class="text-input"><input autofocus name="query" placeholder="Search on Javascript.info" class="text-input__control" type="text"></div><button type="submit" class="sitetoolbar__find">Search</button></div></form></div></div></div><!-- todo: en variant--><div class="tablet-menu"><div class="tablet-menu__line"><div class="tablet-menu__content"><select onchange="if(this.value) window.location.href=this.value" class="input-select input-select_small tablet-menu__nav"><option value="/tutorial" selected>Tutorial</option><option value="/courses">Courses</option></select></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><form action="http://javascript.info/search/" class="tablet-menu-search"><input type="search" name="query" placeholder="Search in the tutorial" required class="tablet-menu-search__input"><button type="submit" name="type" value="articles" class="tablet-menu-search__button">Search</button></form></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><a href="tutorial/map.html" data-action="tutorial-map" class="map"><span class="map__text">Tutorial map</span></a></div></div><!--+e.line--><!--  +e.content--><!--    +b("a").tablet-ebook(href="/ebook")--><!--      +e("span").text Купить учебник--><!--      +e("span").note (EPUB + PDF)--><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="share-icons"><span class="share-icons__title">Share</span><a href="https://twitter.com/share?url=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_tw"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_fb"></a><a href="https://plus.google.com/share?url=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_gp"></a><a href="https://vkontakte.ru/share.php?url=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_vk"></a></div></div></div></div><progress data-sticky value="3" max="27" data-tooltip="Lesson 3 of 27" class="tutorial-progress"></progress></div><div class="page page_sidebar_on"><script>if(localStorage.noSidebar){document.querySelector(".page").classList.remove("page_sidebar_on");var pageWrapper=document.querySelector(".page-wrapper");pageWrapper&&pageWrapper.classList.remove("page-wrapper_sidebar_on")}setTimeout(function(){document.querySelector(".page").classList.add("page_sidebar-animation-on")},0);</script><div class="page__inner"><main class="main main_width-limit"><header class="main__header"><div class="main__header-inner"><ol class="breadcrumbs"><li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb-1" class="breadcrumbs__item breadcrumbs__item_home"><a href="index.html" itemprop="url" class="breadcrumbs__link"><span itemprop="title" class="breadcrumbs__hidden-text">Tutorial</span></a></li><li id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb-2" itemprop="child" class="breadcrumbs__item"><a href="ui.html" itemprop="url" class="breadcrumbs__link"><span itemprop="title">Browser: Document, Events, Interfaces</span></a></li><li id="breadcrumb-2" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="breadcrumbs__item"><a href="document.html" itemprop="url" class="breadcrumbs__link"><span itemprop="title">Document</span></a></li></ol><h1 class="main__header-title">Walking the DOM</h1></div></header><div class="content"><article itemscope itemtype="http://schema.org/TechArticle"><meta itemprop="name" content="Walking the DOM"><div itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="email" content="iliakan@gmail.com"><meta itemprop="name" content="Ilya Kantor"></div><div itemprop="articleBody"><p>The DOM allows to do anything with elements and their contents, but first we need to reach the corresponding DOM object, get it into a variable, and then we are able to modify it.</p>
<p>All operations on the DOM start with the <code>document</code> object. From it we can access any node.</p>
<p>Here’s a picture of links that allow to travel between DOM nodes:</p>
<figure><div class="image" style="width:415px">
      <div class="image__ratio" style="padding-top:86.98795180722891%"></div>
      <img src="article/dom-navigation/dom-links.png" alt="" width="415" height="361" class="image__image">
      </div></figure><p>Let’s discuss them in more detail.</p>
<h2><a class="main__anchor" name="on-top-documentelement-and-body" href="#on-top-documentelement-and-body">On top: documentElement and body</a></h2><p>The topmost tree nodes are available directly as <code>document</code> properties:</p>
<dl>
<dt><code>&lt;html&gt;</code> = <code>document.documentElement</code></dt>
<dd>The topmost document node is <code>document.documentElement</code>. That’s DOM node of <code>&lt;html&gt;</code> tag.</dd>
<dt><code>&lt;body&gt;</code> = <code>document.body</code></dt>
<dd>Another widely used DOM node is the <code>&lt;body&gt;</code> element – <code>document.body</code>.</dd>
<dt><code>&lt;head&gt;</code> = <code>document.head</code></dt>
<dd>The <code>&lt;head&gt;</code> tag is available as <code>document.head</code>.</dd>
</dl>
<div class="important important_warn">
            <div class="important__header"><span class="important__type">There’s a catch: <code>document.body</code> can be <code>null</code></span></div>
            <div class="important__content"><p>A script cannot access an element that doesn’t exist at the moment of running.</p>
<p>In particular, if a script is inside <code>&lt;head&gt;</code>, then <code>document.body</code> is unavailable, because the browser did not read it yet.</p>
<p>So, in the example below the first <code>alert</code> shows <code>null</code>:</p>
<div data-trusted="1" class="code-example" data-highlight-block="4-4">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="show" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code class="language-markup">&lt;html&gt;

&lt;head&gt;
  &lt;script&gt;
    alert( &quot;From HEAD: &quot; + document.body ); // null, there's no &lt;body&gt; yet
  &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;

  &lt;script&gt;
    alert( &quot;From BODY: &quot; + document.body ); // HTMLBodyElement, now it exists
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
        </div>
      </div>
      
      </div></div></div>
<div class="important important_smart">
            <div class="important__header"><span class="important__type">In the DOM world <code>null</code> means “doesn’t exist”</span></div>
            <div class="important__content"><p>In the DOM, the <code>null</code> value means “doesn’t exist” or “no such node”.</p>
</div></div>
<h2><a class="main__anchor" name="children-childnodes-firstchild-lastchild" href="#children-childnodes-firstchild-lastchild">Children: childNodes, firstChild, lastChild</a></h2><p>There are two terms that we’ll use from now on:</p>
<ul>
<li><strong>Child nodes (or children)</strong> – elements that are direct children. In other words, they are nested exactly in the given one. For instance, <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> are children of <code>&lt;html&gt;</code> element.</li>
<li><strong>Descendants</strong> – all elements that are nested in the given one, including children, their children and so on.</li>
</ul>
<p>For instance, here <code>&lt;body&gt;</code> has children <code>&lt;div&gt;</code> and <code>&lt;ul&gt;</code> (and few blank text nodes):</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="show" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code class="language-markup">&lt;html&gt;
&lt;body&gt;
  &lt;div&gt;Begin&lt;/div&gt;

  &lt;ul&gt;
    &lt;li&gt;
      &lt;b&gt;Information&lt;/b&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
        </div>
      </div>
      
      </div><p>…And if we ask for all descendants of <code>&lt;body&gt;</code>, then we get direct children <code>&lt;div&gt;</code>, <code>&lt;ul&gt;</code> and also more nested elements like <code>&lt;li&gt;</code> (being a child of <code>&lt;ul&gt;</code>) and <code>&lt;b&gt;</code> (being a child of <code>&lt;li&gt;</code>) – the entire subtree.</p>
<p><strong>The <code>childNodes</code> collection provides access to all child nodes, including text nodes.</strong></p>
<p>The example below shows children of <code>document.body</code>:</p>
<div data-trusted="1" class="code-example" data-highlight-block="11-13">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="show" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code class="language-markup">&lt;html&gt;
&lt;body&gt;
  &lt;div&gt;Begin&lt;/div&gt;

  &lt;ul&gt;
    &lt;li&gt;Information&lt;/li&gt;
  &lt;/ul&gt;

  &lt;div&gt;End&lt;/div&gt;

  &lt;script&gt;
    for (let i = 0; i &lt; document.body.childNodes.length; i++) {
      alert( document.body.childNodes[i] ); // Text, DIV, Text, UL, ..., SCRIPT
    }
  &lt;/script&gt;
  ...more stuff...
&lt;/body&gt;
&lt;/html&gt;</code></pre>
        </div>
      </div>
      
      </div><p>Please note an interesting detail here. If we run the example above, the last element shown is <code>&lt;script&gt;</code>. In fact, the document has more stuff below, but at the moment of the script execution the browser did not read it yet, so the script doesn’t see it.</p>
<p><strong>Properties <code>firstChild</code> and <code>lastChild</code> give fast access to the first and last children.</strong></p>
<p>They are just shorthands. If there exist child nodes, then the following is always true:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">elem.childNodes[0] === elem.firstChild
elem.childNodes[elem.childNodes.length - 1] === elem.lastChild</code></pre>
        </div>
      </div>
      
      </div><p>There’s also a special function <code>elem.hasChildNodes()</code> to check whether there are any child nodes.</p>
<h3><a class="main__anchor" name="dom-collections" href="#dom-collections">DOM collections</a></h3><p>As we can see, <code>childNodes</code> looks like an array. But actually it’s not an array, but rather a <em>collection</em> – a special array-like iterable object.</p>
<p>There are two important consequences:</p>
<ol>
<li>We can use <code>for..of</code> to iterate over it:</li>
</ol>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">for (let node of document.body.childNodes) {
  alert(node); // shows all nodes from the collection
}</code></pre>
        </div>
      </div>
      
      </div><p>That’s because it’s iterable (provides the <code>Symbol.iterator</code> property, as required).</p>
<ol start="2">
<li>Array methods won’t work, because it’s not an array:</li>
</ol>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">alert(document.body.childNodes.filter); // undefined (there's no filter method!)</code></pre>
        </div>
      </div>
      
      </div><p>The first thing is nice. The second is tolerable, because we can use <code>Array.from</code> to create a “real” array from the collection, if we want array methods:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">alert( Array.from(document.body.childNodes).filter ); // now it's there</code></pre>
        </div>
      </div>
      
      </div><div class="important important_warn">
            <div class="important__header"><span class="important__type">DOM collections are read-only</span></div>
            <div class="important__content"><p>DOM collections, and even more – <em>all</em> navigation properties listed in this chapter are read-only.</p>
<p>We can’t replace a child by something else assigning <code>childNodes[i] = ...</code>.</p>
<p>Changing DOM needs other methods, we’ll see them in the next chapter.</p>
</div></div>
<div class="important important_warn">
            <div class="important__header"><span class="important__type">DOM collections are live</span></div>
            <div class="important__content"><p>Almost all DOM collections with minor exceptions are <em>live</em>. In other words, they reflect the current state of DOM.</p>
<p>If we keep a reference to <code>elem.childNodes</code>, and add/remove nodes into DOM, then they appear in the collection automatically.</p>
</div></div>
<div class="important important_warn">
            <div class="important__header"><span class="important__type">Don’t use <code>for..in</code> to loop over collections</span></div>
            <div class="important__content"><p>Collections are iterable using <code>for..of</code>. Sometimes people try to use <code>for..in</code> for that.</p>
<p>Please, don’t. The <code>for..in</code> loop iterates over all enumerable properties. And collections have some “extra” rarely used properties that we usually do not want to get:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="show" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code class="language-markup">&lt;body&gt;
&lt;script&gt;
  // shows 0, 1, length, item, values and more.
  for (let prop in document.body.childNodes) alert(prop);
&lt;/script&gt;
&lt;/body&gt;</code></pre>
        </div>
      </div>
      
      </div></div></div>
<h2><a class="main__anchor" name="siblings-and-the-parent" href="#siblings-and-the-parent">Siblings and the parent</a></h2><p><em>Siblings</em> are nodes that are children of the same parent. For instance, <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> are siblings:</p>
<ul>
<li><code>&lt;body&gt;</code> is said to be the “next” or “right” sibling of <code>&lt;head&gt;</code>,</li>
<li><code>&lt;head&gt;</code> is said to be the “previous” or “left” sibling of <code>&lt;body&gt;</code>.</li>
</ul>
<p>The parent is available as <code>parentNode</code>.</p>
<p>The next node in the same parent (next sibling) is <code>nextSibling</code>, and the previous one is <code>previousSibling</code>.</p>
<p>For instance:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="show" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code class="language-markup">&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;script&gt;
  // HTML is &quot;dense&quot; to evade extra &quot;blank&quot; text nodes.

  // parent of &lt;body&gt; is &lt;html&gt;
  alert( document.body.parentNode === document.documentElement ); // true

  // after &lt;head&gt; goes &lt;body&gt;
  alert( document.head.nextSibling ); // HTMLBodyElement

  // before &lt;body&gt; goes &lt;head&gt;
  alert( document.body.previousSibling ); // HTMLHeadElement
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="element-only-navigation" href="#element-only-navigation">Element-only navigation</a></h2><p>Navigation properties listed above refer to <em>all</em> nodes. For instance, in <code>childNodes</code> we can see both text nodes, element nodes, and even comment nodes if there exist.</p>
<p>But for many tasks we don’t want text or comment nodes. We want to manipulate element nodes that represent tags and form the structure of the page.</p>
<p>So let’s see more navigation links that only take <em>element nodes</em> into account:</p>
<figure><div class="image" style="width:427px">
      <div class="image__ratio" style="padding-top:70.02341920374707%"></div>
      <img src="article/dom-navigation/dom-links-elements.png" alt="" width="427" height="299" class="image__image">
      </div></figure><p>The links are similar to those given above, just with <code>Element</code> word inside:</p>
<ul>
<li><code>children</code> – only those children that are element nodes.</li>
<li><code>firstElementChild</code>, <code>lastElementChild</code> – first and last element children.</li>
<li><code>previousElementSibling</code>, <code>nextElementSibling</code> – neighbour elements.</li>
<li><code>parentElement</code> – parent element.</li>
</ul>
<div class="important important_smart">
            <div class="important__header"><span class="important__type">Why <code>parentElement</code>? Can the parent be <em>not</em> an element?</span></div>
            <div class="important__content"><p>The <code>parentElement</code> property returns the “element” parent, while <code>parentNode</code> returns “any node” parent. These properties are usually the same: they both get the parent.</p>
<p>With the one exception of <code>document.documentElement</code>:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">alert( document.documentElement.parentNode ); // document
alert( document.documentElement.parentElement ); // null</code></pre>
        </div>
      </div>
      
      </div><p>In other words, the <code>documentElement</code> (<code>&lt;html&gt;</code>) is the root node. Formally, it has <code>document</code> as its parent. But <code>document</code> is not an element node, so <code>parentNode</code> returns it and <code>parentElement</code> does not.</p>
<p>Sometimes that matters when we’re walking over the chain of parents and call a method on each of them, but <code>document</code> doesn’t have it, so we exclude it.</p>
</div></div>
<p>Let’s modify one of the examples above: replace <code>childNodes</code> with <code>children</code>. Now it shows only elements:</p>
<div data-trusted="1" class="code-example" data-highlight-block="11-13">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="show" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code class="language-markup">&lt;html&gt;
&lt;body&gt;
  &lt;div&gt;Begin&lt;/div&gt;

  &lt;ul&gt;
    &lt;li&gt;Information&lt;/li&gt;
  &lt;/ul&gt;

  &lt;div&gt;End&lt;/div&gt;

  &lt;script&gt;
    for (let elem of document.body.children) {
      alert(elem); // DIV, UL, DIV, SCRIPT
    }
  &lt;/script&gt;
  ...
&lt;/body&gt;
&lt;/html&gt;</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="dom-navigation-tables" href="#dom-navigation-tables">More links: tables</a></h2><p>Till now we described the basic navigation properties.</p>
<p>Certain types of DOM elements may provide additional properties, specific to their type, for convenience.</p>
<p>Tables are a great example and important particular case of that.</p>
<p><strong>The <code>&lt;table&gt;</code></strong> element supports (in addition to the given above) these properties:</p>
<ul>
<li><code>table.rows</code> – the collection of <code>&lt;tr&gt;</code> elements of the table.</li>
<li><code>table.caption/tHead/tFoot</code> – references to elements <code>&lt;caption&gt;</code>, <code>&lt;thead&gt;</code>, <code>&lt;tfoot&gt;</code>.</li>
<li><code>table.tBodies</code> – the collection of <code>&lt;tbody&gt;</code> elements (can be many according to the standard).</li>
</ul>
<p><strong><code>&lt;thead&gt;</code>, <code>&lt;tfoot&gt;</code>, <code>&lt;tbody&gt;</code></strong> elements provide the <code>rows</code> property:</p>
<ul>
<li><code>tbody.rows</code> – the collection of <code>&lt;tr&gt;</code> inside.</li>
</ul>
<p><strong><code>&lt;tr&gt;</code>:</strong></p>
<ul>
<li><code>tr.cells</code> – the collection of <code>&lt;td&gt;</code> and <code>&lt;th&gt;</code> cells inside the given <code>&lt;tr&gt;</code>.</li>
<li><code>tr.sectionRowIndex</code> – the position (index) of the given <code>&lt;tr&gt;</code> inside the enclosing <code>&lt;thead&gt;/&lt;tbody&gt;/&lt;tfoot&gt;</code>.</li>
<li><code>tr.rowIndex</code> – the number of the <code>&lt;tr&gt;</code> in the table as a whole (including all table rows).</li>
</ul>
<p><strong><code>&lt;td&gt;</code> and <code>&lt;th&gt;</code>:</strong></p>
<ul>
<li><code>td.cellIndex</code> – the number of the cell inside the enclosing <code>&lt;tr&gt;</code>.</li>
</ul>
<p>An example of usage:</p>
<div data-trusted="1" class="code-example" data-demo-height="100" data-highlight-inline="11:15-31">
      <div class="codebox code-example__codebox">
        
        <div class="toolbar codebox__toolbar">
          <div class="toolbar__tool">
            <a href="#" title="show" data-action="run" class="toolbar__button toolbar__button_run"></a>
          </div>
          <div class="toolbar__tool">
            <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
          </div>
        </div>
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code class="language-markup">&lt;table id=&quot;table&quot;&gt;
  &lt;tr&gt;
    &lt;td&gt;one&lt;/td&gt;&lt;td&gt;two&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;three&lt;/td&gt;&lt;td&gt;four&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;script&gt;
  // get the content of the first row, second cell
  alert( table.rows[0].cells[1].innerHTML ) // &quot;two&quot;
&lt;/script&gt;</code></pre>
        </div>
      </div>
      
      </div><p>The specification: <a href="https://html.spec.whatwg.org/multipage/tables.html">tabular data</a>.</p>
<p>There are also additional navigation properties for HTML forms. We’ll look at them later when start working with forms.</p>
<h1><a class="main__anchor" name="summary" href="#summary">Summary</a></h1><p>Given a DOM node, we can go to its immediate neighbours using navigation properties.</p>
<p>There are two main sets of them:</p>
<ul>
<li>For all nodes: <code>parentNode</code>, <code>childNodes</code>, <code>firstChild</code>, <code>lastChild</code>, <code>previousSibling</code>, <code>nextSibling</code>.</li>
<li>For element nodes only: <code>parentElement</code>, <code>children</code>, <code>firstElementChild</code>, <code>lastElementChild</code>, <code>previousElementSibling</code>, <code>nextElementSibling</code>.</li>
</ul>
<p>Some types of DOM elements, e.g. tables, provide additional properties and collections to access their content.</p>
</div></article><div class="tasks"><h2 id="tasks" class="tasks__title"><a href="#tasks" class="main__anchor main__anchor_noicon tasks__title-anchor">Tasks</a></h2><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#dom-children" name="dom-children" class="main__anchor">DOM children</a></h3><a href="task/dom-children.html" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="How important is the task, from 1 to 5" class="task__importance">importance: 5</span></div><div class="task__content"><p>For the page:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code class="language-markup">&lt;html&gt;
&lt;body&gt;
  &lt;div&gt;Users:&lt;/div&gt;
  &lt;ul&gt;
    &lt;li&gt;John&lt;/li&gt;
    &lt;li&gt;Pete&lt;/li&gt;
  &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
        </div>
      </div>
      
      </div><p>How to access:</p>
<ul>
<li>The <code>&lt;div&gt;</code> DOM node?</li>
<li>The <code>&lt;ul&gt;</code> DOM node?</li>
<li>The second <code>&lt;li&gt;</code> (with Pete)?</li>
</ul>
<button type="button" class="task__solution">solution</button><div class="task__answer"><div class="task__answer-content"><p>There are many ways, for instance:</p>
<p>The <code>&lt;div&gt;</code> DOM node:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">document.body.firstElementChild
// or
document.body.children[0]
// or (the first node is space, so we take 2nd)
document.body.childNodes[1]</code></pre>
        </div>
      </div>
      
      </div><p>The <code>&lt;ul&gt;</code> DOM node:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">document.body.lastElementChild
// or
document.body.children[1]</code></pre>
        </div>
      </div>
      
      </div><p>The second <code>&lt;li&gt;</code> (with Pete):</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">// get &lt;ul&gt;, and then get its last element child
document.body.lastElementChild.lastElementChild</code></pre>
        </div>
      </div>
      
      </div></div><button type="button" title="close" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#the-sibling-question" name="the-sibling-question" class="main__anchor">The sibling question</a></h3><a href="task/navigation-links-which-null.html" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="How important is the task, from 1 to 5" class="task__importance">importance: 5</span></div><div class="task__content"><p>If <code>elem</code> – is an arbitrary DOM element node…</p>
<ul>
<li>Is it true that <code>elem.lastChild.nextSibling</code> is always <code>null</code>?</li>
<li>Is it true that <code>elem.children[0].previousSibling</code> is always <code>null</code> ?</li>
</ul>
<button type="button" class="task__solution">solution</button><div class="task__answer"><div class="task__answer-content"><ol>
<li>Yes, true. The element <code>elem.lastChild</code> is always the last one, it has no <code>nextSibling</code>, so if there are children, then yes.</li>
<li>No, wrong, because <code>elem.children[0]</code> is the first child among elements. But there may be non-element nodes before it. So <code>previousSibling</code> may be a text node.</li>
</ol>
<p>Please note that for both cases if there are no children, then there will be an error. For instance, if <code>elem.lastChild</code> is <code>null</code>, we can’t access <code>elem.lastChild.nextSibling</code>.</p>
</div><button type="button" title="close" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#select-all-diagonal-cells" name="select-all-diagonal-cells" class="main__anchor">Select all diagonal cells</a></h3><a href="task/select-diagonal-cells.html" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="How important is the task, from 1 to 5" class="task__importance">importance: 5</span></div><div class="task__content"><p>Write the code to paint all diagonal table cells in red.</p>
<p>You’ll need to get all diagonal <code>&lt;td&gt;</code> from the <code>&lt;table&gt;</code> and paint them using the code:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-javascript"><code class="language-javascript">// td should be the reference to the table cell
td.style.backgroundColor = 'red';</code></pre>
        </div>
      </div>
      
      </div><p>The result should be:</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:180px" src="https://en.js.cx/task/select-diagonal-cells/solution/"></iframe>
  </div><p><a href="http://plnkr.co/edit/yvgjxYC1NQBKsmpkpWO4?p=preview" target="_blank" data-plunk-id="yvgjxYC1NQBKsmpkpWO4">Open the sandbox for the task.</a></p><button type="button" class="task__solution">solution</button><div class="task__answer"><div class="task__answer-content"><p>We’ll be using <code>rows</code> and <code>cells</code> properties to access diagonal table cells.</p>
<p><a href="http://plnkr.co/edit/NiQqvmLoOpIxXVB6bufC?p=preview" target="_blank" data-plunk-id="NiQqvmLoOpIxXVB6bufC">Open the solution in the sandbox.</a></p></div><button type="button" title="close" class="close-button task__answer-close"></button></div></div></div></div></div><!--if lang == 'en'--><!--  include /blocks/banner-bottom.en--></div><div class="page__nav-wrap"><a href="dom-nodes.html" data-tooltip="DOM tree" class="page__nav page__nav_prev"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Previous lesson</span></a><a href="searching-elements-dom.html" data-tooltip="Searching: getElement* and querySelector*" class="page__nav page__nav_next"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">Next lesson</span></a></div><div class="article-tablet-foot tablet-only"><div class="article-tablet-foot__layout"><div class="share-icons"><span class="share-icons__title">Share</span><a href="https://twitter.com/share?url=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_tw"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_fb"></a><a href="https://plus.google.com/share?url=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_gp"></a><a href="https://vkontakte.ru/share.php?url=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_vk"></a></div><div class="article-tablet-foot__map"><a href="tutorial/map.html" data-action="tutorial-map" class="map"><span class="map__text">Tutorial map</span></a></div></div></div><div id="comments" class="comments"><div class="comments__header"><h2 class="comments__header-title"><a href="#comments" name="comments">Comments</a></h2><div class="comments__read-before"><span class="comments__read-before-link">read this before commenting…</span><div class="comments__read-before-popup"><div class="comments__read-before-popup-i"><ul><li>You're welcome to post additions, questions to the articles and answers to them.</li><li>To insert a few words of code, use the <code>&lt;code&gt;</code> tag, for several lines – use <code>&lt;pre&gt;</code>, for more than 10 lines – use a sandbox (<a href='http://plnkr.co/edit/?p=preview'>plnkr</a>, <a href='http://jsbin.com/'>JSBin</a>, <a href='http://codepen.io/'>codepen</a>…)</li><li>If you can't understand something in the article – please elaborate.</li></ul></div></div></div></div></div><div id="disqus_thread"></div><script>var disqus_config = function() { if (!this.page) this.page = {}; Object.assign(this.page, {"url":"https:\/\/javascript.info\/dom-navigation","identifier":"\/dom-navigation","title":"Walking the DOM"}); };</script><script>var disqus_shortname = "javascriptinfo";</script><script>var disqus_enabled = true;</script></main></div><div class="page__sidebar sidebar sidebar_sticky-footer"><button data-sidebar-toggle class="sidebar__toggle"></button><a href="tutorial/map.html" data-action="tutorial-map" data-tooltip="Tutorial map" class="map"></a><div class="sidebar__inner"><div class="sidebar__content"><div class="sidebar__section"><h4 class="sidebar__section-title">Chapter</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a href="document.html" class="sidebar__link">Document</a></li></ul></nav></div><div class="sidebar__section"><h4 class="sidebar__section-title">Lesson navigation</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a href="#on-top-documentelement-and-body" class="sidebar__link">On top: documentElement and body</a></li><li class="sidebar__navigation-link"><a href="#children-childnodes-firstchild-lastchild" class="sidebar__link">Children: childNodes, firstChild, lastChild</a></li><li class="sidebar__navigation-link"><a href="#siblings-and-the-parent" class="sidebar__link">Siblings and the parent</a></li><li class="sidebar__navigation-link"><a href="#element-only-navigation" class="sidebar__link">Element-only navigation</a></li><li class="sidebar__navigation-link"><a href="#dom-navigation-tables" class="sidebar__link">More links: tables</a></li></ul></nav></div><div class="sidebar__section"><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a href="#tasks" class="sidebar__link">Tasks (3)</a></li><li class="sidebar__navigation-link"><a href="#comments" class="sidebar__link">Comments</a></li></ul></nav></div><div class="sidebar__section"><div class="sidebar__section-title">Share</div><a href="https://twitter.com/share?url=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_tw sidebar__share"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_fb sidebar__share"></a><a href="https://plus.google.com/share?url=https%3A%2F%2Fjavascript.info%2Fdom-navigation" class="share share_gp sidebar__share"></a></div><div class="sidebar__section"><a href="https://github.com/iliakan/javascript-tutorial-en/tree/master/2-ui/1-document/03-dom-navigation/article.md" class="sidebar__link">Edit on Github</a></div></div></div></div></div></div><div class="page-footer"><div class="page-footer__left"><ul class="page-footer__list"><li class="page-footer__item">©&nbsp;2007—2018&nbsp; Ilya Kantor</li><li class="page-footer__item"><a href="about.html#contact-us" class="page-footer__link">contact us</a></li><li class="page-footer__item"><a href="about.html" class="page-footer__link">about the project</a></li><li class="page-footer__item"><a href="https://learn.javascript.ru/" class="page-footer__link">RU</a> / EN</li></ul></div><div class="page-footer__right"><ul class="page-footer__list"><li class="page-footer__item">powered by <a rel="nofollow" href="http://nodejs.org/" class="page-footer__link">node.js</a>&nbsp;&amp;&nbsp;<a rel="nofollow" href="http://github.com/iliakan/javascript-tutorial-en" class="page-footer__link">open source</a></li></ul></div></div></body>
<!-- Mirrored from javascript.info/dom-navigation by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Sep 2018 10:49:51 GMT -->
</html>